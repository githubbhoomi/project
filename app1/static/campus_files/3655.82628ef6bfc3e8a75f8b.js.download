"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[3655],{90539:(e,a,r)=>{r.d(a,{W2:()=>re,Yo:()=>ae,DU:()=>ee});var t=r(85893),n=r(3735),d=r(11324),s=r(70902),o=r(66132),c=r(73481),l=r(29771),h=r(43882),i=r(54373),p=r(57842),u=r(33037),m=r(56225);const I=(0,n.zG)(c.U2,i.UI((0,n.ls)(c.xL,u.EQ({True:()=>"production",False:()=>"development"}))),h.UI(l.f1)),T=(0,n.zG)(m.er(),p.NG((e=>e.ad_env)),p.HV(I)),y=(()=>{switch(T){case"production":return"10457";case"development":return"10495"}})(),z=(()=>{switch(T){case"production":return"1121954";case"development":return"1124528"}})();var U=r(83143),G=r(98677),k=r(8481),S=r(46681),v=r(28897),b=r(4094),P=r(69184),f=r(85198),x=r(62876),D=r(87976),_=r(40755);const A=(0,r(22222).P1)((e=>e.directAds),(e=>e.renderedAdsByAdvertiser));var E=r(49056),F=r(61465),w=r(8204),C=r(74235),g=r(86287),H=r(6910),q=r(22965),j=r(57051),M=r(60301),Q=r(8173),W=r(13761),N=r(70099),O=r(46247),R=r(68873),V=r(56142),J=r(75525),L=r(23873);const X=w.Dy.match({HomePageHeader:()=>"homepageHeader",SayThanksCardMobile:()=>"say-thanks-card-mobile",SayThanksCardTabletUp:()=>"say-thanks-card-desktop",TopicsInFeed:()=>"topics-in-feed",ExploreInFeed:()=>"explore-in-feed",SearchInFeed:()=>"search-in-feed"}),Y=(()=>{switch(T){case"development":return w.Dy.match({HomePageHeader:()=>()=>237078,SayThanksCardMobile:()=>()=>237077,SayThanksCardTabletUp:()=>()=>237076,TopicsInFeed:()=>F.AS.match({Phone:(0,n.a9)(257457),[D._]:(0,n.a9)(237186)}),ExploreInFeed:()=>F.AS.match({Phone:(0,n.a9)(257456),[D._]:(0,n.a9)(247889)}),SearchInFeed:()=>F.AS.match({Phone:(0,n.a9)(257455),[D._]:(0,n.a9)(241347)})});case"production":return w.Dy.match({HomePageHeader:()=>()=>219422,SayThanksCardMobile:()=>()=>219423,SayThanksCardTabletUp:()=>()=>219424,TopicsInFeed:()=>F.AS.match({Phone:(0,n.a9)(257453),[D._]:(0,n.a9)(237209)}),ExploreInFeed:()=>F.AS.match({Phone:(0,n.a9)(257454),[D._]:(0,n.a9)(247890)}),SearchInFeed:()=>F.AS.match({Phone:(0,n.a9)(257452),[D._]:(0,n.a9)(241348)})})}})(),B=e=>{let{adType:a,count:r}=e;return(0,n.zG)(Y(a),R.UI((e=>({divName:X(a),zoneIds:O.of(e),count:r,networkId:y,siteId:z,adTypes:O.of(5),properties:(0,n.zG)(a,w.Dy.match({SearchInFeed:e=>{let{keyword:a}=e;return{keyword:a}},[D._]:()=>({})}))}))))},K=e=>{let{adType:a,count:r}=e;const t=w.Dy.getTemplateCodec(a);return(0,n.zG)((d={adType:a,count:r},(0,n.zG)(V.of(v.q9),V.ap((0,n.zG)(d,B,R.UI(O.of),V.Ry)),V.ap(V.tD(q.T)))),J.XR,J.U0((e=>P.x0(v.sD(t))("/nabc",{method:"POST",headers:{[M.JU]:j.z.JSON},body:W.SO(e)}))),L.ap,L.UI((e=>(0,n.zG)(e.decisions,Q.P5(X(a)),p.tS(p.ij),p.UI(O.UI((e=>w.Ad.fromKevelAd({ad:O.YM(e.contents),decision:e}))))))));var d},Z=(e,a)=>O.hX((0,n.ls)((e=>{return(r=e.metadata.advertiserId,b.tSV((e=>(0,n.zG)(e,b.t94(v.Ez)(r),u.EQ({True:(0,N.Vo)((()=>(0,n.zG)(e,b.d1t((e=>v.Ez.equals(e,r)))))),False:(0,n.a9)([])})))))(a);var r}),b.EQD(n.W8,(0,n.ls)(b.Gax((a=>(0,n.zG)(e,H.fP(v.Ez)(a)))),u.ff)))),$=(()=>{switch(T){case"development":return[[v.zi(2260292),v.zi(2260293)]];case"production":return[[v.zi(2262847),v.zi(1890533)]]}})(),ee=e=>{let{adType:a,count:r}=e;const t=(0,S.v)(A),s=(0,d.m)((e=>(0,n.zG)(e,_.UI((e=>{let[a]=e;return a})))),[t]),o=(0,S.v)(E._v);return(0,d.m)((e=>{const a=(0,n.zG)(e,_.UI((e=>e[0])),_.xb(w.Dy.Eq.equals)),t=(0,n.zG)(e,_.UI((e=>e[1])),_.xb(p.Eh(F.Eq).equals));return(0,n.zG)(f.gz((0,n.zG)(a,f.u5),t),_.Mm(s),_.UI((e=>{let[a,r]=e;return(0,n.zG)(a,p.UI((e=>{let[a,t]=e;return(0,n.bc)(a,t,r)})))})),f.pd((e=>{let[a,t,d]=e;return(0,n.zG)(_.PQ((()=>K({adType:a,count:3*r})(t))),_.bw((e=>{if(x.hx(e)){const{error:a}=e;(0,n.zG)(a,P.L.match({DecodeError:(0,n.ls)(U.W7,h.ht),[D._]:n.Q1}))}})),_.UI(x.UI(p.tS(Z(d,$)))))})),_.UI(p.pF((()=>x.nn))))}),[a,o])},ae=e=>{let{adType:a,count:r,children:t}=e;return t((0,k.s)(ee({adType:a,count:r})))},re=e=>{let{children:a,metadata:r,adType:d}=e;const c=(0,G.I)();return(0,s.Z)((()=>{c(o.aU.mk.DirectAdImpression({metadata:r,adType:d}))})),(0,t.jsxs)(C.PRT,{children:[a,(0,t.jsx)(g._,{url:r.impressionUrl}),(0,n.zG)(r.impressionTrackers,p.UI((e=>(0,n.zG)(e,b.UID((e=>(0,t.jsx)(g._,{url:e},e)))))),p.WG)]})}},18912:(e,a,r)=>{r.d(a,{$:()=>c});var t=r(85893),n=r(66132),d=r(98677),s=r(74235),o=r(4387);const c=e=>{let{metadata:a,adType:r,...c}=e;const l=(0,d.I)(),h=s.I47((()=>{l(n.aU.mk.TrackDirectAdClick({metadata:a,adType:r}))}),[a,r,l]);return(0,t.jsx)(o.r,{onClick:h,href:a.clickUrl,...c})}},8481:(e,a,r)=>{r.d(a,{s:()=>d});var t=r(8144),n=r(62876);const d=e=>(0,t.p)(e,n.nn)}}]);